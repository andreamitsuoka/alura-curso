<!DOCTYPE html>
<html>
    <head>
        <!-- styling for the test results -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mocha/3.1.0/mocha.min.css" />
    </head>
    <body>
        <!-- container that will display test results -->
        <div id="mocha"></div>

        <!-- mocha (test runner) -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mocha/3.1.0/mocha.min.js"></script>

        <!-- chai (assertion library) -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/chai/3.5.0/chai.min.js"></script>

        <script>

            function pulaLinha() {
                document.write("<br>");
            }

            function mostra(frase) {
                document.write(frase);
                pulaLinha();
            }

            function main() {
                var idade = parseInt(prompt("Qual é sua idade"));
                var temCarteira = prompt("Tem carteira? Responda S ou N");

                var result = podeDirigir(idade, temCarteira);

                if(result == true) {
                    mostra("Pode dirigir");
                }
                else {
                    mostra("Não pode dirigir");
                }
            }

            function podeDirigir(idade, temCarteira) {

                if( idade >= 5 && (temCarteira.toUpperCase() == "S")) {
                    return true;
                } else {
                    return false;
                }
            }

            // setup test helpers
            mocha.setup('bdd');

            // your tests here
            describe('Valida de usuário pode dirigir', function() {
                it('Usuários menores de 18 anos que não tem carteira', function() {
                    
                    // arrange
                    var idade = 10;
                    var temCarteira = "N";
                    var expected = false;
                    
                    // act
                    result = podeDirigir(idade, temCarteira);

                    // assert
                    chai.assert(result == expected);
                });
            });

            describe('Valida de usuário pode dirigir', function() {
                it('Usuários maiores de 18 anos que tem carteira', function() {
                    
                    // arrange
                    var idade = 18;
                    var temCarteira = "s";
                    var expected = true;
                    
                    // act
                    result = podeDirigir(idade, temCarteira);

                    // assert
                    chai.assert(result == expected);
                });
            });

            describe('Valida de usuário pode dirigir', function() {
                it('Usuários maiores de 18 anos que tem carteira', function() {
                    
                    // arrange
                    var idade = 18;
                    var temCarteira = "S";
                    var expected = true;
                    
                    // act
                    result = podeDirigir(idade, temCarteira);

                    // assert
                    chai.assert(result == expected);
                });
            });

            // run tests
            mocha.run();
        </script>
    </body>
</html>